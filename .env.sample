# General configuration --------------------------------------------------------

# Writeable directory where all the files will be stored (default: ./data)
# NANIT_DATA_DIR=/app/data

# Default value: info
# Allowed values: trace | debug | info | warn | error | fatal | panic
# NANIT_LOG_LEVEL=debug

# Session file (optional)
# Stores state between runs, useful for rapid development so that we don't get
# flagged by auth. servers for too many requests during application re-runs.
#
# Warning: The file contains sensitive information (auth tokens, etc.).
#  It is recommended to only use it during development.
# NANIT_SESSION_FILE=data/session.json

# Nanit credentials ------------------------------------------------------------

# Nanit user credentials (as entered during Nanit cam registration)
NANIT_EMAIL=xxxx@xxxx.tld
NANIT_PASSWORD=xxxxxxxxxx

# RTMP server ------------------------------------------------------------------

# Enable integrated RTMP server (default: true)
# NANIT_RTMP_ENABLED=true

# RTMP port (default: 1935)
# NANIT_RTMP_PORT=1935

# Address under which this app is reachable from the camera
# Note: If not set, the local IP will be auto-detected.
#  You cannot use 127.0.0.1 here - it must be reachable from the camera.
#  Also pay attention to the port if you are port forwarding in Docker.
# NANIT_RTMP_ADDR=192.168.3.234:1935

# Start with remote (cloud) stream first, then switch to local (default: false)
# Useful for testing stream failover behavior
# NANIT_PREFER_REMOTE=false

# MQTT -------------------------------------------------------------------------

# Enable MQTT integration for reading sensors data (default: false)
# NANIT_MQTT_ENABLED=true

# MQTT broker host (required if enabled)
# Examples:
# - Plain TCP: tcp://iot.eclipse.org:1883
# - Websocket: ws://my.mqtt.local or wss://my.secure.mqtt.local
# NANIT_MQTT_BROKER_URL=

# Credentials for MQTT broker (optional)
# NANIT_MQTT_USERNAME=
# NANIT_MQTT_PASSWORD=

# Client ID (default: nanit)
# NANIT_MQTT_CLIENT_ID=mynanit

# Topic prefix (default: nanit)
# NANIT_MQTT_PREFIX=mynanit

# Home Assistant MQTT Auto-Discovery (default: true)
# When enabled, sensors and switches are automatically discovered by Home Assistant.
# A special "Stream URL" sensor is also published with the RTMP address.
# NANIT_MQTT_DISCOVERY=true

# Notification Event Polling ---------------------------------------------------
# Polls the Nanit API for notification events and publishes them to MQTT.
# Supports 13 event types: motion, sound, cry detection, baby standing,
# toddler left bed, alert zone, temperature, humidity, breathing alerts,
# camera offline/online, low battery, and change state.
#
# Requires MQTT to be enabled.

# Enable notification event polling (default: false)
# NANIT_NOTIFICATIONS_ENABLED=true

# Polling interval in seconds (default: 10)
# NANIT_NOTIFICATIONS_POLL_INTERVAL=10

# Jitter factor 0-1 to randomize poll timing and prevent API hammering
# e.g., 0.3 = Â±30% variation (default: 0.3)
# NANIT_NOTIFICATIONS_JITTER=0.3

# Maximum backoff in seconds when errors occur (default: 300)
# NANIT_NOTIFICATIONS_MAX_BACKOFF=300

# Maximum age in seconds for messages to be processed (default: 300)
# Older messages are ignored to prevent stale event processing
# NANIT_NOTIFICATIONS_MESSAGE_TIMEOUT=300

# Sleep Tracking ---------------------------------------------------------------
# Polls /events and /stats/latest endpoints for sleep tracking sensors.
# Provides: is_asleep, in_bed, times_woke_up, sleep_interventions,
# awake_time_today, sleep_time_today, last_sleep_event sensors.
#
# Requires Notification Event Polling to be enabled.

# Enable sleep tracking (default: true when notifications enabled)
# NANIT_SLEEP_TRACKING_ENABLED=true

# Sleep event polling interval in seconds (default: 30)
# NANIT_SLEEP_EVENT_POLL_INTERVAL=30

# Sleep stats polling interval in seconds (default: 60)
# NANIT_STATS_POLL_INTERVAL=60

# Legacy Event Polling ---------------------------------------------------------
# Basic motion/sound polling (superseded by Notification Event Polling above)

# Enable legacy events polling (default: false)
# NANIT_EVENTS_POLLING=true

# Interval in seconds at which to poll for new event messages (default: 30)
# NANIT_EVENTS_POLLING_INTERVAL=20

# Time in seconds after which to disregard event messages (default: 300)
# NANIT_EVENTS_MESSAGE_TIMEOUT=300
